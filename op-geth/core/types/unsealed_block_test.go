package types

import (
	"fmt"
	"testing"
)

func TestTxUnmarshal(t *testing.T) {
	raw := []byte{211, 30, 222, 127, 199, 252, 107, 77, 253, 243, 70, 249, 247, 109, 28, 245, 231, 244, 219, 189, 183, 231, 173, 183, 231, 102, 252, 221, 221, 61, 121, 199, 184, 123, 215, 246, 213, 237, 91, 115, 167, 117, 127, 126, 251, 225, 253, 248, 119, 141, 122, 127, 214, 252, 229, 175, 120, 117, 230, 157, 117, 230, 157, 117, 230, 157, 117, 230, 157, 117, 230, 157, 117, 230, 157, 117, 230, 157, 117, 230, 157, 117, 230, 157, 211, 77, 53, 247, 142, 54, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 215, 159, 52, 243, 79, 55, 209, 254, 54, 227, 79, 52, 111, 198, 184, 227, 141, 26, 229, 237, 180, 211, 77, 52, 211, 158, 124, 211, 77, 28, 229, 247, 57, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 55, 211, 77, 52, 211, 77, 52, 235, 182, 156, 123, 78, 58, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 29, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 215, 93, 182, 245, 173, 56, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 53, 229, 231, 57, 115, 173, 247, 127, 222, 245, 123, 119, 117, 121, 206, 250, 215, 142, 180, 219, 78, 185, 231, 93, 121, 107, 87, 26, 209, 173, 251, 245, 231, 31, 209, 254, 157, 215, 110, 247, 215, 95, 116, 243, 126, 249, 113, 221, 124, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 211, 77, 52, 119, 119, 246, 115, 150, 159, 111, 103, 123, 233, 254, 121, 239, 215, 247, 219, 166, 244, 113, 222, 221, 107, 151, 249, 107, 141, 118, 233, 205, 249}

	tx := new(Transaction)
	err := tx.UnmarshalBinary(raw)

	if err != nil {
		panic(fmt.Errorf("Error: %v\n", err))
	}

	fmt.Printf("Transaction: %v\n", tx)
}
